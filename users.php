<?php
// Define an array of user tokens
$user_tokens = array(
    1 => 'abc123',
    2 => 'def456',
    3 => 'ghi789'
);

// Create an array of user information
$users = array(
    1 => array(
        'name' => 'John Doe',
        'email' => 'johndoe@example.com',
        'phone' => '555-555-1234',
        'address' => '123 Main St, Anytown, USA'
    ),
    2 => array(
        'name' => 'Jane Smith',
        'email' => 'janesmith@example.com',
        'phone' => '555-555-5678',
        'address' => '456 Oak Ave, Anycity, USA'
    ),
    3 => array(
        'name' => 'Bob Johnson',
        'email' => 'bobjohnson@example.com',
        'phone' => '555-555-9876',
        'address' => '789 Elm St, Anyville, USA'
    )
);

// Check if the 'id' and 'token' parameters are set in the URL
if (isset($_GET['id']) && isset($_GET['token'])) {
    $id = $_GET['id'];
    $token = $_GET['token'];

    // Validate the token for the corresponding user ID
    if (isset($user_tokens[$id]) && $user_tokens[$id] === $token) {
        // Display the user information on the page
        $user = $users[$id];
        echo '<h1>' . $user['name'] . '</h1>';
        echo '<p>Email: ' . $user['email'] . '</p>';
        echo '<p>Phone: ' . $user['phone'] . '</p>';
        echo '<p>Address: ' . $user['address'] . '</p>';
    } else {
        // If the token is invalid, display an error message
        echo 'Access denied';
    }
} else {
    // If the 'id' or 'token' parameter is not set, display all user profiles
    foreach ($users as $id => $user) {
        $token = $user_tokens[$id];
        echo '<h1>' . $user['name'] . '</h1>';
        echo '<a href="?id=' . $id . '&token=' . $token . '">View profile</a>';
        echo '<hr>';
    }
}
?>
